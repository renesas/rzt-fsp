<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>RZ/T2 Flexible Software Package Documentation: Data Operation Circuit (r_doc)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="fsp_customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_scaled.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">RZ/T2 Flexible Software Package Documentation
   &#160;<span id="projectnumber">Release v1.2.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___d_o_c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Data Operation Circuit (r_doc)<div class="ingroups"><a class="el" href="group___r_e_n_e_s_a_s___m_o_d_u_l_e_s.html">Modules</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga49ab0814d37fe40570ef1c379a51ce0b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_o_c.html#ga49ab0814d37fe40570ef1c379a51ce0b">R_DOC_Open</a> (<a class="el" href="group___d_o_c___a_p_i.html#gaf04723af6be7642657d11b713a90ccc6">doc_ctrl_t</a> *const p_api_ctrl, <a class="el" href="group___d_o_c___a_p_i.html#structdoc__cfg__t">doc_cfg_t</a> const *const p_cfg)</td></tr>
<tr class="separator:ga49ab0814d37fe40570ef1c379a51ce0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga00abf8118e145197cb6dad5502d4e1e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_o_c.html#ga00abf8118e145197cb6dad5502d4e1e0">R_DOC_Close</a> (<a class="el" href="group___d_o_c___a_p_i.html#gaf04723af6be7642657d11b713a90ccc6">doc_ctrl_t</a> *const p_api_ctrl)</td></tr>
<tr class="separator:ga00abf8118e145197cb6dad5502d4e1e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70aa39aaa55dc31484304f3f4a9bcaca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_o_c.html#ga70aa39aaa55dc31484304f3f4a9bcaca">R_DOC_Read</a> (<a class="el" href="group___d_o_c___a_p_i.html#gaf04723af6be7642657d11b713a90ccc6">doc_ctrl_t</a> *const p_api_ctrl, uint32_t *p_result)</td></tr>
<tr class="separator:ga70aa39aaa55dc31484304f3f4a9bcaca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c87ec15a954bacc0914a4b1b21e2700"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_o_c.html#ga5c87ec15a954bacc0914a4b1b21e2700">R_DOC_Write</a> (<a class="el" href="group___d_o_c___a_p_i.html#gaf04723af6be7642657d11b713a90ccc6">doc_ctrl_t</a> *const p_api_ctrl, uint32_t data)</td></tr>
<tr class="separator:ga5c87ec15a954bacc0914a4b1b21e2700"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7b76fdd85989423cbe3a241cacbe778"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___d_o_c.html#gae7b76fdd85989423cbe3a241cacbe778">R_DOC_CallbackSet</a> (<a class="el" href="group___d_o_c___a_p_i.html#gaf04723af6be7642657d11b713a90ccc6">doc_ctrl_t</a> *const p_api_ctrl, void(*p_callback)(<a class="el" href="group___d_o_c___a_p_i.html#structdoc__callback__args__t">doc_callback_args_t</a> *), void const *const p_context, <a class="el" href="group___d_o_c___a_p_i.html#structdoc__callback__args__t">doc_callback_args_t</a> *const p_callback_memory)</td></tr>
<tr class="separator:gae7b76fdd85989423cbe3a241cacbe778"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Driver for the DOC peripheral on RZ microprocessor. This module implements the <a class="el" href="group___d_o_c___a_p_i.html">DOC Interface</a>. </p>
<h1><a class="anchor" id="r-doc-overview"></a>
Overview</h1>
<h2><a class="anchor" id="r-doc-features"></a>
Features</h2>
<p>The DOC HAL module peripheral is used to compare, add or subtract 16-bit data and can detect the following events:</p>
<ul>
<li>A match or mismatch between data values</li>
<li>Overflow of an addition operation</li>
<li>Underflow of a subtraction operation</li>
</ul>
<p>A user-defined callback can be created to inform the CPU when any of above events occur.</p>
<h1><a class="anchor" id="r-doc-configuration"></a>
Configuration</h1>
<p><a class="anchor" id="um_doc_addition_overflow_event_notification"></a><a class="anchor" id="um_doc_comparison_failure_event_notification"></a><a class="anchor" id="um_doc_comparison_successful_event_notification"></a><a class="anchor" id="um_doc_subtraction_underflow_event_notification"></a></p>
<p><h2>Build Time Configurations for r_doc</h2>
The following build time configurations are defined in fsp_cfg/r_doc_cfg.h:<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr>
<td>Parameter Checking</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Default (BSP)</li>
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Default (BSP) </td><td>If selected code for parameter checking is included in the build. </td></tr>
</table>
 <h2>Configurations for Driver &gt; Monitoring &gt; Data Operation Circuit Driver on r_doc</h2>
This module can be added to the Stacks tab via New Stack &gt; Driver &gt; Monitoring &gt; Data Operation Circuit Driver on r_doc.<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr>
<td>Name</td><td>Name must be a valid C symbol</td><td>g_doc0 </td><td>Module name. </td></tr>
<tr>
<td>Event</td><td>MCU Specific Options</td><td></td><td>Select the event that will trigger the DOC interrupt. </td></tr>
<tr>
<td>Bit Width</td><td>MCU Specific Options</td><td></td><td>The bit width for DOC operations. </td></tr>
<tr>
<td>Reference/Initial Data</td><td>Value must be a 16 bit integer between 0 and 65535</td><td>0 </td><td>Enter Initial Value for Addition/Subtraction or enter reference value for comparison. </td></tr>
<tr>
<td>Callback</td><td>Name must be a valid C symbol</td><td>NULL </td><td>A user callback function must be provided. This will be called from the interrupt service routine (ISR) when the configured DOC event occurs. </td></tr>
</table>
</p>
<h2><a class="anchor" id="r-doc-clock-configuration"></a>
Clock Configuration</h2>
<p>The DOC HAL module does not require a specific clock configuration.</p>
<h2><a class="anchor" id="r-doc-pin-configuration"></a>
Pin Configuration</h2>
<p>The DOC HAL module does not require and specific pin configurations.</p>
<h1><a class="anchor" id="r-doc-usage_notes"></a>
Usage Notes</h1>
<h2><a class="anchor" id="r-doc-interrupt"></a>
Interrupt</h2>
<p>The DOC outputs an error signal to the ICU. ICU can output PERI_ERRn interrupt (Peripherals error event n) to GIC or cause error reset when ICU accepts error signal from DOC. To use PERI_ERRn interrupt or reset at DOC, <a class="el" href="group___i_c_u___e_r_r_o_r.html">Interruput Controller Unit (ICU) ERROR (r_icu_error)</a> need to be configured. When the PERI_ERRn interrupt is configured to use interrupt and triggered, the callback function registered during open is called.</p>
<h2>DMAC Integration</h2>
<p>DOC can be used with <a class="el" href="group___d_m_a_c.html">Direct Memory Access Controller (r_dmac)</a> to write to the input register without CPU intervention. DMAC is more useful for most DOC applications because it can be started directly from software. To write DOC input data with DMAC, set <a class="el" href="group___t_r_a_n_s_f_e_r___a_p_i.html#a176dc2f3d1edfc321fa248a7e4c3b549" title="Destination pointer. ">transfer_info_t::p_dest</a> to R_DOC-&gt;DODIR.</p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga49ab0814d37fe40570ef1c379a51ce0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga49ab0814d37fe40570ef1c379a51ce0b">&#9670;&nbsp;</a></span>R_DOC_Open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_DOC_Open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___d_o_c___a_p_i.html#gaf04723af6be7642657d11b713a90ccc6">doc_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___d_o_c___a_p_i.html#structdoc__cfg__t">doc_cfg_t</a> const *const&#160;</td>
          <td class="paramname"><em>p_cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opens and configures the Data Operation Circuit (DOC) in comparison, addition or subtraction mode and sets initial data for addition or subtraction, or reference data for comparison.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>DOC successfully configured. </td></tr>
    <tr><td class="paramname">FSP_ERR_ALREADY_OPEN</td><td>Module already open. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>One or more pointers point to NULL or callback is NULL or the interrupt vector is invalid. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga00abf8118e145197cb6dad5502d4e1e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga00abf8118e145197cb6dad5502d4e1e0">&#9670;&nbsp;</a></span>R_DOC_Close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_DOC_Close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___d_o_c___a_p_i.html#gaf04723af6be7642657d11b713a90ccc6">doc_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Closes the module driver. Enables module stop mode.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Module successfully closed. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Driver not open. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Pointer pointing to NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function will disable the DOC interrupt in the GIC. </dd></dl>

</div>
</div>
<a id="ga70aa39aaa55dc31484304f3f4a9bcaca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga70aa39aaa55dc31484304f3f4a9bcaca">&#9670;&nbsp;</a></span>R_DOC_Read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_DOC_Read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___d_o_c___a_p_i.html#gaf04723af6be7642657d11b713a90ccc6">doc_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>p_result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the result of addition/subtraction.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Status successfully read. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Driver not open. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>One or more pointers point to NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga5c87ec15a954bacc0914a4b1b21e2700"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5c87ec15a954bacc0914a4b1b21e2700">&#9670;&nbsp;</a></span>R_DOC_Write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_DOC_Write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___d_o_c___a_p_i.html#gaf04723af6be7642657d11b713a90ccc6">doc_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes to the DODIR - DOC Input Register.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Values successfully written to the registers. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Driver not open. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>One or more pointers point to NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae7b76fdd85989423cbe3a241cacbe778"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae7b76fdd85989423cbe3a241cacbe778">&#9670;&nbsp;</a></span>R_DOC_CallbackSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_DOC_CallbackSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___d_o_c___a_p_i.html#gaf04723af6be7642657d11b713a90ccc6">doc_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(<a class="el" href="group___d_o_c___a_p_i.html#structdoc__callback__args__t">doc_callback_args_t</a> *)&#160;</td>
          <td class="paramname"><em>p_callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void const *const&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___d_o_c___a_p_i.html#structdoc__callback__args__t">doc_callback_args_t</a> *const&#160;</td>
          <td class="paramname"><em>p_callback_memory</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the user callback and has option of providing memory for callback structure. Implements <a class="el" href="group___d_o_c___a_p_i.html#a4a559e6ae7a841b6d0464232db650556">doc_api_t::callbackSet</a></p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Callback updated successfully. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>A required pointer is NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>The control block has not been opened. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
        <li class="footer">FSP Release v1.2.0 User's Manual Copyright © (2023) Renesas Electronics Corporation. All Rights Reserved.</li>
  </ul>
</div>
</body>
</html>
