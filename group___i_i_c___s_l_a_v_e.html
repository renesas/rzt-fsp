<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>RZ/T2M Flexible Software Package Documentation: I2C Slave on IIC (r_iic_slave)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="fsp_customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_scaled.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">RZ/T2M Flexible Software Package Documentation
   &#160;<span id="projectnumber">Release v1.1.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___i_i_c___s_l_a_v_e.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#nested-classes">Data Structures</a>  </div>
  <div class="headertitle">
<div class="title">I2C Slave on IIC (r_iic_slave)<div class="ingroups"><a class="el" href="group___r_e_n_e_s_a_s___m_o_d_u_l_e_s.html">Modules</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2781d08100bc6a53034347927422e206"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_i_c___s_l_a_v_e.html#ga2781d08100bc6a53034347927422e206">R_IIC_SLAVE_Open</a> (<a class="el" href="group___i2_c___s_l_a_v_e___a_p_i.html#gaf676f2e6f026d5f3c96fcb18fdc71972">i2c_slave_ctrl_t</a> *const p_api_ctrl, <a class="el" href="group___i2_c___s_l_a_v_e___a_p_i.html#structi2c__slave__cfg__t">i2c_slave_cfg_t</a> const *const p_cfg)</td></tr>
<tr class="separator:ga2781d08100bc6a53034347927422e206"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga62cdf56c786ad26cb09811e27d225d06"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_i_c___s_l_a_v_e.html#ga62cdf56c786ad26cb09811e27d225d06">R_IIC_SLAVE_Read</a> (<a class="el" href="group___i2_c___s_l_a_v_e___a_p_i.html#gaf676f2e6f026d5f3c96fcb18fdc71972">i2c_slave_ctrl_t</a> *const p_api_ctrl, uint8_t *const p_dest, uint32_t const bytes)</td></tr>
<tr class="separator:ga62cdf56c786ad26cb09811e27d225d06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga26692591d226125907ecd208a6d8d0fd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_i_c___s_l_a_v_e.html#ga26692591d226125907ecd208a6d8d0fd">R_IIC_SLAVE_Write</a> (<a class="el" href="group___i2_c___s_l_a_v_e___a_p_i.html#gaf676f2e6f026d5f3c96fcb18fdc71972">i2c_slave_ctrl_t</a> *const p_api_ctrl, uint8_t *const p_src, uint32_t const bytes)</td></tr>
<tr class="separator:ga26692591d226125907ecd208a6d8d0fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab803811cfa1a11e23b90ee9eb9e021ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_i_c___s_l_a_v_e.html#gab803811cfa1a11e23b90ee9eb9e021ba">R_IIC_SLAVE_CallbackSet</a> (<a class="el" href="group___i2_c___s_l_a_v_e___a_p_i.html#gaf676f2e6f026d5f3c96fcb18fdc71972">i2c_slave_ctrl_t</a> *const p_api_ctrl, void(*p_callback)(<a class="el" href="group___i2_c___s_l_a_v_e___a_p_i.html#structi2c__slave__callback__args__t">i2c_slave_callback_args_t</a> *), void const *const p_context, <a class="el" href="group___i2_c___s_l_a_v_e___a_p_i.html#structi2c__slave__callback__args__t">i2c_slave_callback_args_t</a> *const p_callback_memory)</td></tr>
<tr class="separator:gab803811cfa1a11e23b90ee9eb9e021ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae4bb6d75bb3a27d940d70592242dbbe3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_i_c___s_l_a_v_e.html#gae4bb6d75bb3a27d940d70592242dbbe3">R_IIC_SLAVE_Close</a> (<a class="el" href="group___i2_c___s_l_a_v_e___a_p_i.html#gaf676f2e6f026d5f3c96fcb18fdc71972">i2c_slave_ctrl_t</a> *const p_api_ctrl)</td></tr>
<tr class="separator:gae4bb6d75bb3a27d940d70592242dbbe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae238193f1587aafce5ae43eae6ddcd88"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_i_c___s_l_a_v_e.html#gae238193f1587aafce5ae43eae6ddcd88">R_IIC_SLAVE_VersionGet</a> (<a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#unionfsp__version__t">fsp_version_t</a> *const p_version)</td></tr>
<tr class="separator:gae238193f1587aafce5ae43eae6ddcd88"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Driver for the IIC peripheral on RZ microprocessor. This module implements the <a class="el" href="group___i2_c___s_l_a_v_e___a_p_i.html">I2C Slave Interface</a>. </p>
<h1><a class="anchor" id="r-iic_slave-overview"></a>
Overview</h1>
<h2><a class="anchor" id="r-iic_slave-features"></a>
Features</h2>
<ul>
<li>Supports multiple transmission rates<ul>
<li><a class="anchor" id="um_iic_slave_standard_speed_for_communication"></a>Standard Mode Support with up to 100-kHz transaction rate.</li>
<li><a class="anchor" id="um_iic_slave_fast_mode_speed_for_communication"></a>Fast Mode Support with up to 400-kHz transaction rate.</li>
</ul>
</li>
<li><a class="anchor" id="um_iic_slave_read_from_master"></a>Reads data written by master device.</li>
<li><a class="anchor" id="um_iic_slave_write_to_master"></a>Write data which is read by master device.</li>
<li><a class="anchor" id="um_iic_slave_accept_general_calls"></a>Can accept 0x00 as slave address.</li>
<li><a class="anchor" id="um_iic_slave_10_bit_addressing_mode"></a> Can be assigned a 10-bit address.</li>
<li><a class="anchor" id="um_iic_slave_clock_stretching"></a> Clock stretching is supported and can be implemented via callbacks.</li>
<li><a class="anchor" id="um_iic_slave_callback_to_notify_data_length"></a> Provides Transmission/Reception transaction size in the callback.</li>
<li><a class="anchor" id="um_iic_slave_notify_the_generated_event"></a>I2C Slave can notify the following events via callbacks: Transmission/Reception Request, Transmission/Reception Request for more data, Transmission/Reception Completion, Error Condition.</li>
</ul>
<h1><a class="anchor" id="r-iic_slave-configuration"></a>
Configuration</h1>
<p><h2>Build Time Configurations for r_iic_slave</h2>
The following build time configurations are defined in fsp_cfg/r_iic_slave_cfg.h:<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr>
<td>Parameter Checking</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Default (BSP)</li>
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Default (BSP) </td><td>If selected code for parameter checking is included in the build. </td></tr>
</table>
 <h2>Configurations for Driver &gt; Connectivity &gt; I2C Slave Driver on r_iic_slave</h2>
This module can be added to the Stacks tab via New Stack &gt; Driver &gt; Connectivity &gt; I2C Slave Driver on r_iic_slave.<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr>
<td>Name</td><td>Name must be a valid C symbol</td><td>g_i2c_slave0 </td><td>Module name. </td></tr>
<tr>
<td>Channel</td><td>Value must be a non-negative integer</td><td>0 </td><td>Specify the IIC channel. </td></tr>
<tr>
<td>Rate</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Standard</li>
<li>
Fast-mode</li>
</ul>
</td><td>Standard </td><td>Select the transfer rate. </td></tr>
<tr>
<td>Internal Reference Clock</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
PCLKL / 1</li>
<li>
PCLKL / 2</li>
<li>
PCLKL / 4</li>
<li>
PCLKL / 8</li>
<li>
PCLKL / 16</li>
<li>
PCLKL / 32</li>
<li>
PCLKL / 64</li>
<li>
PCLKL / 128</li>
</ul>
</td><td>PCLKL / 1 </td><td>Select the internal reference clock for IIC slave. The internal reference clock is used only to determine the clock frequency of the noise filter samples. </td></tr>
<tr>
<td>Digital Noise Filter Stage Select</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Disabled</li>
<li>
Single-stage filter</li>
<li>
2-stage filter</li>
<li>
3-stage filter</li>
<li>
4-stage filter</li>
</ul>
</td><td>3-stage filter </td><td>Select the number of digital filter stages for IIC Slave. </td></tr>
<tr>
<td>Slave Address</td><td>Value must be non-negative</td><td>0x00 </td><td>Specify the slave address. </td></tr>
<tr>
<td>General Call</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Allows the slave to respond to general call address: 0x00. </td></tr>
<tr>
<td>Address Mode</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
7-Bit</li>
<li>
10-Bit</li>
</ul>
</td><td>7-Bit </td><td>Select the slave address mode. </td></tr>
<tr>
<td>Callback</td><td>Name must be a valid C symbol</td><td>NULL </td><td>A user callback function must be provided. This will be called from the interrupt service routine (ISR) to report I2C Slave transaction events and status. </td></tr>
<tr>
<td>Interrupt Priority Level</td><td>MCU Specific Options</td><td></td><td>Select the interrupt priority level. This is set for TXI, RXI, TEI and ERI interrupts. </td></tr>
</table>
</p>
<h2><a class="anchor" id="r-iic_slave-clock-configuration"></a>
Clock Configuration</h2>
<p>The IIC peripheral module uses the PCLKL as its clock source. The actual I2C transfer rate will be calculated and set by the tooling depending on the selected transfer rate. If the PCLKL is configured in such a manner that the selected transfer rate cannot be achieved, an error will be returned.</p>
<h2><a class="anchor" id="r-iic_slave-pin-configuration"></a>
Pin Configuration</h2>
<p>The IIC peripheral module uses pins on the MCU to communicate to external devices. I/O pins must be selected and configured as required by the external device. An I2C channel would consist of two pins - SDA and SCL for data/address and clock respectively.</p>
<h1><a class="anchor" id="r-iic_slave-usage_notes"></a>
Usage Notes</h1>
<h2><a class="anchor" id="r-iic_slave-interrupt-configuration"></a>
Interrupt Configuration</h2>
<ul>
<li>The IIC error (EEI), receive buffer full (RXI), transmit buffer empty (TXI) and transmit end (TEI) interrupts for the selected channel must be enabled in the properties of the selected device.</li>
</ul>
<h2><a class="anchor" id="r-iic_slave-callbacks"></a>
Callback</h2>
<ul>
<li>A callback function must be provided which will be invoked for the cases below:<ul>
<li>An I2C Master initiates a transmission or reception: I2C_SLAVE_EVENT_TX_REQUEST; I2C_SLAVE_EVENT_RX_REQUEST</li>
<li>A Transmission or reception has been completed: I2C_SLAVE_EVENT_TX_COMPLETE; I2C_SLAVE_EVENT_RX_COMPLETE</li>
<li>An I2C Master is requesting to read or write more data: I2C_SLAVE_EVENT_TX_MORE_REQUEST; I2C_SLAVE_EVENT_RX_MORE_REQUEST</li>
<li>Error conditions: I2C_SLAVE_EVENT_ABORTED</li>
<li>An I2C Master initiates a general call by passing 0x00 as slave address: I2C_SLAVE_EVENT_GENERAL_CALL</li>
</ul>
</li>
<li>The callback arguments will contain information about the transaction status/events, bytes transferred and a pointer to the user defined context.</li>
<li>Clock stretching is enabled by the use of callbacks. This means that the IIC slave can hold the clock line SCL LOW to force the I2C Master into a wait state.</li>
<li>The table below shows I2C Slave event handling expected in user code:</li>
</ul>
<p><a class="anchor" id="um_iic_slave_send_nack_support"></a> </p><table class="doxtable">
<tr>
<th>IIC Slave Callback Event </th><th>IIC Slave API expected to be called  </th></tr>
<tr>
<td>I2C_SLAVE_EVENT_ABORTED </td><td>Handle event based on application </td></tr>
<tr>
<td>I2C_SLAVE_EVENT_RX_COMPLETE </td><td>Handle event based on application </td></tr>
<tr>
<td>I2C_SLAVE_EVENT_TX_COMPLETE </td><td>Handle event based on application </td></tr>
<tr>
<td>I2C_SLAVE_EVENT_RX_REQUEST </td><td>R_IIC_SLAVE_Read API. If the slave is a Write Only device call this API with 0 bytes to send a NACK to the master. </td></tr>
<tr>
<td>I2C_SLAVE_EVENT_TX_REQUEST </td><td>R_IIC_SLAVE_Write API </td></tr>
<tr>
<td>I2C_SLAVE_EVENT_RX_MORE_REQUEST </td><td>R_IIC_SLAVE_Read API. If the slave cannot read any more data call this API with 0 bytes to send a NACK to the master. </td></tr>
<tr>
<td>I2C_SLAVE_EVENT_TX_MORE_REQUEST </td><td>R_IIC_SLAVE_Write API </td></tr>
<tr>
<td>I2C_SLAVE_EVENT_GENERAL_CALL </td><td>R_IIC_SLAVE_Read </td></tr>
</table>
<ul>
<li>If parameter checking is enabled and R_IIC_SLAVE_Read API is not called for I2C_SLAVE_EVENT_RX_REQUEST and/or I2C_SLAVE_EVENT_RX_MORE_REQUEST, the slave will send a NACK to the master and would eventually timeout.</li>
<li>R_IIC_SLAVE_Write API is not called for I2C_SLAVE_EVENT_TX_REQUEST and/or I2C_SLAVE_EVENT_TX_MORE_REQUEST:<ul>
<li>Slave timeout is less than Master timeout: The slave will timeout and release the bus causing the master to read 0xFF for every remaining byte.</li>
<li>Slave timeout is more than Master timeout: The master will timeout first followed by the slave.</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="r-iic_slave-rate_calculation"></a>
IIC Slave Rate Calculation</h2>
<ul>
<li>The FSP Configuration editor calculates the internal baud-rate setting based on the configured transfer rate. The closest possible baud-rate that can be achieved (less than or equal to the requested rate) at the current PCLKL settings is calculated and used.</li>
</ul>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structiic__slave__clock__settings__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_i_c___s_l_a_v_e.html#structiic__slave__clock__settings__t">iic_slave_clock_settings_t</a></td></tr>
<tr class="separator:structiic__slave__clock__settings__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structiic__slave__extended__cfg__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_i_c___s_l_a_v_e.html#structiic__slave__extended__cfg__t">iic_slave_extended_cfg_t</a></td></tr>
<tr class="separator:structiic__slave__extended__cfg__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structiic__slave__clock__settings__t" id="structiic__slave__clock__settings__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structiic__slave__clock__settings__t">&#9670;&nbsp;</a></span>iic_slave_clock_settings_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct iic_slave_clock_settings_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>I2C clock settings </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="ae84939949fde82ff8600981d24e69d0f"></a>uint8_t</td>
<td class="fieldname">
cks_value</td>
<td class="fielddoc">
Internal Reference Clock Select. </td></tr>
<tr><td class="fieldtype">
<a id="a41382084c8a91226db001a7321176112"></a>uint8_t</td>
<td class="fieldname">
brl_value</td>
<td class="fielddoc">
Low-level period of SCL clock. </td></tr>
<tr><td class="fieldtype">
<a id="a8fbc88f3fad23597ec529cccaf5d5bc1"></a>uint8_t</td>
<td class="fieldname">
digital_filter_stages</td>
<td class="fielddoc">
Number of digital filter stages based on brl_value. </td></tr>
</table>

</div>
</div>
<a name="structiic__slave__extended__cfg__t" id="structiic__slave__extended__cfg__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structiic__slave__extended__cfg__t">&#9670;&nbsp;</a></span>iic_slave_extended_cfg_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct iic_slave_extended_cfg_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>R_IIC_SLAVE extended configuration </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a6cd72552be0f2b89d34e8036c8e80c92"></a><a class="el" href="group___i_i_c___s_l_a_v_e.html#structiic__slave__clock__settings__t">iic_slave_clock_settings_t</a></td>
<td class="fieldname">
clock_settings</td>
<td class="fielddoc">
I2C Clock settings. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga2781d08100bc6a53034347927422e206"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2781d08100bc6a53034347927422e206">&#9670;&nbsp;</a></span>R_IIC_SLAVE_Open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_IIC_SLAVE_Open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___i2_c___s_l_a_v_e___a_p_i.html#gaf676f2e6f026d5f3c96fcb18fdc71972">i2c_slave_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___i2_c___s_l_a_v_e___a_p_i.html#structi2c__slave__cfg__t">i2c_slave_cfg_t</a> const *const&#160;</td>
          <td class="paramname"><em>p_cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opens the I2C slave device.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>I2C slave device opened successfully. </td></tr>
    <tr><td class="paramname">FSP_ERR_ALREADY_OPEN</td><td>Module is already open. </td></tr>
    <tr><td class="paramname">FSP_ERR_IP_CHANNEL_NOT_PRESENT</td><td>Channel is not available on this MCU. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>Parameter check failure due to one or more reasons below:<ol type="1">
<li>p_api_ctrl or p_cfg is NULL.</li>
<li>extended parameter is NULL.</li>
<li>Callback parameter is NULL.</li>
<li>Set the rate to fast mode plus on a channel which does not support it.</li>
<li>Invalid IRQ number assigned </li>
</ol>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga62cdf56c786ad26cb09811e27d225d06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga62cdf56c786ad26cb09811e27d225d06">&#9670;&nbsp;</a></span>R_IIC_SLAVE_Read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_IIC_SLAVE_Read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___i2_c___s_l_a_v_e___a_p_i.html#gaf676f2e6f026d5f3c96fcb18fdc71972">i2c_slave_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *const&#160;</td>
          <td class="paramname"><em>p_dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t const&#160;</td>
          <td class="paramname"><em>bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs a read from the I2C Master device.</p>
<p>This function will fail if there is already an in-progress I2C transfer on the associated channel. Otherwise, the I2C slave read operation will begin. The caller will be notified when the operation has finished by an I2C_SLAVE_EVENT_RX_COMPLETE in the callback. In case the master continues to write more data, an I2C_SLAVE_EVENT_RX_MORE_REQUEST will be issued via callback. In case of errors, an I2C_SLAVE_EVENT_ABORTED will be issued via callback.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Function executed without issue </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>p_api_ctrl, bytes or p_dest is NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_IN_USE</td><td>Another transfer was in progress. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Device is not open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga26692591d226125907ecd208a6d8d0fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga26692591d226125907ecd208a6d8d0fd">&#9670;&nbsp;</a></span>R_IIC_SLAVE_Write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_IIC_SLAVE_Write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___i2_c___s_l_a_v_e___a_p_i.html#gaf676f2e6f026d5f3c96fcb18fdc71972">i2c_slave_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *const&#160;</td>
          <td class="paramname"><em>p_src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t const&#160;</td>
          <td class="paramname"><em>bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs a write to the I2C Master device.</p>
<p>This function will fail if there is already an in-progress I2C transfer on the associated channel. Otherwise, the I2C slave write operation will begin. The caller will be notified when the operation has finished by an I2C_SLAVE_EVENT_TX_COMPLETE in the callback. In case the master continues to read more data, an I2C_SLAVE_EVENT_TX_MORE_REQUEST will be issued via callback. In case of errors, an I2C_SLAVE_EVENT_ABORTED will be issued via callback.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Function executed without issue. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>p_api_ctrl or p_src is NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_IN_USE</td><td>Another transfer was in progress. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Device is not open. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab803811cfa1a11e23b90ee9eb9e021ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab803811cfa1a11e23b90ee9eb9e021ba">&#9670;&nbsp;</a></span>R_IIC_SLAVE_CallbackSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_IIC_SLAVE_CallbackSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___i2_c___s_l_a_v_e___a_p_i.html#gaf676f2e6f026d5f3c96fcb18fdc71972">i2c_slave_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(<a class="el" href="group___i2_c___s_l_a_v_e___a_p_i.html#structi2c__slave__callback__args__t">i2c_slave_callback_args_t</a> *)&#160;</td>
          <td class="paramname"><em>p_callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void const *const&#160;</td>
          <td class="paramname"><em>p_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___i2_c___s_l_a_v_e___a_p_i.html#structi2c__slave__callback__args__t">i2c_slave_callback_args_t</a> *const&#160;</td>
          <td class="paramname"><em>p_callback_memory</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the user callback and has option of providing memory for callback structure. Implements <a class="el" href="group___i2_c___s_l_a_v_e___a_p_i.html#a527fc26638e91d2daf652c2b30b5ab5a">i2c_slave_api_t::callbackSet</a></p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>API not supported. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae4bb6d75bb3a27d940d70592242dbbe3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae4bb6d75bb3a27d940d70592242dbbe3">&#9670;&nbsp;</a></span>R_IIC_SLAVE_Close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_IIC_SLAVE_Close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___i2_c___s_l_a_v_e___a_p_i.html#gaf676f2e6f026d5f3c96fcb18fdc71972">i2c_slave_ctrl_t</a> *const&#160;</td>
          <td class="paramname"><em>p_api_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Closes the I2C device.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Device closed successfully. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Device not opened. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>p_api_ctrl is NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae238193f1587aafce5ae43eae6ddcd88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae238193f1587aafce5ae43eae6ddcd88">&#9670;&nbsp;</a></span>R_IIC_SLAVE_VersionGet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_IIC_SLAVE_VersionGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#unionfsp__version__t">fsp_version_t</a> *const&#160;</td>
          <td class="paramname"><em>p_version</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets version information and stores it in the provided version structure.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Successful version get. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>p_version is NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
        <li class="footer">FSP Release v1.1.0 User's Manual Copyright © (2022) Renesas Electronics Corporation. All Rights Reserved.</li>
  </ul>
</div>
</body>
</html>
