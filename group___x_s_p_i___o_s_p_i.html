<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>RZT Flexible Software Package Documentation: Expanded Serial Peripheral Interface (xSPI) OSPI (r_xspi_ospi)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <script type="text/javascript" src="search/lunr.js"></script>
    <link href="search/lunrsearch.css" rel="stylesheet" type="text/css">
    <script src="search/lunr_index.js"></script>
    <script src="search/lunrclient.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="fsp_customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_scaled.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">RZT Flexible Software Package Documentation
   &#160;<span id="projectnumber">Release v2.0.0</span>
   </div>
  </td>
   <td>        <br /><div id="MSearchBox" class="MSearchBoxInactive">
 
    <form id="lunrSearchForm" name="lunrSearchForm">
      <span class="left" >
          <img id="MSearchSelect" src="search/mag_sel.png"
               alt=""/>
         <input class="search-input" id="MSearchField" name="q" placeholder="Search" type="text"> 
      </span>
      <span class="right">
          &nbsp; 
      </span>
        <!--<input type="submit" value="Search">-->
    </form>
</div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___x_s_p_i___o_s_p_i.html','');});
</script>

<script src="search/mark.min.js"></script>
<script type="text/javascript">
  $(document).ready(function() { 
    var options = {         // allows highlighting across element boundaries.
      "acrossElements": true
    };
    var bodyText = $("div.contents").text(); // try contents instead of body. 
    // If using body: Problem may be that text inside <script> tags is included in .text() - but not in cheerio?
    // If using div.contents - works 
    var fullURL = $(location).attr('href');
    var splitURL = fullURL.split("?");  // Get param string: content after "?" in URL
    if (splitURL.length > 1) {          // If any content after "?"
      var paramStr = splitURL[1];
      var params = paramStr.split("&"); // Split params on "&"
      for (i = 0; i < params.length; i++) {
        var paramPair = params[i].split("=");
        if (paramPair[0] == "pos") {     // If any param starts "pos", get the content after "="
          posStr = paramPair[1];
          var splitPos = posStr.split(",");
          var termArray = [];
        // termArray will have the search terms
            for (i=0; i < splitPos.length; i += 2) {
            start = splitPos[i];
            len = splitPos[i+1]; // Needs error detection! Vulnerable if non-even # of pos entries
            term = bodyText.substr(start,len);
            if (termArray.includes(term) == false) {     // List all unique terms
                termArray.push(bodyText.substr(start,len)); 
            }
          } 
    //      console.log(termArray);
          var context = document.querySelector("div.contents");
          var instance = new Mark(context);
          for(i=0;i<termArray.length; i+=1) {
            instance.mark(termArray[i],options);  // Use Mark.js to mark all terms in termArray
            }    
          var firstMark = document.querySelector("mark");
          firstMark.scrollIntoView(true);
          //      console.log($("mark").first().text()); // Trying to scroll to first Mark element. 
        }
            }
    }
  });
</script>

<link href="fsp_customdoxygen.css" rel="stylesheet" type="text/css" />

<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


<!-- Lunr search results -->
<div id="lunrResultBox" style="
        position: fixed;
        border: 1px solid black;
        background-color: WhiteSmoke;  
        padding: 10px;
        width: 500px;
        height: 500px;
        top: 30;
        right: 0;
        overflow: auto;
        display: none">
    <button onclick="closeLunrResults()" style="float: right;">X</button>
    <div class="resultCount" id="resultCount"></div>
    <div id="searchResults"></div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">Expanded Serial Peripheral Interface (xSPI) OSPI (r_xspi_ospi)<div class="ingroups"><a class="el" href="group___r_e_n_e_s_a_s___m_o_d_u_l_e_s.html">Modules</a> &raquo; <a class="el" href="group___r_e_n_e_s_a_s___s_t_o_r_a_g_e___m_o_d_u_l_e_s.html">Storage</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga67d8a86dcc3370f47dd8f113f604e1b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___x_s_p_i___o_s_p_i.html#ga67d8a86dcc3370f47dd8f113f604e1b2">R_XSPI_OSPI_Open</a> (<a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *p_ctrl, <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#structspi__flash__cfg__t">spi_flash_cfg_t</a> const *const p_cfg)</td></tr>
<tr class="separator:ga67d8a86dcc3370f47dd8f113f604e1b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac4a104b286e181e85aa9f49cfd415743"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___x_s_p_i___o_s_p_i.html#gac4a104b286e181e85aa9f49cfd415743">R_XSPI_OSPI_Close</a> (<a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *p_ctrl)</td></tr>
<tr class="separator:gac4a104b286e181e85aa9f49cfd415743"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6a078843078f56dc586961e73361d455"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___x_s_p_i___o_s_p_i.html#ga6a078843078f56dc586961e73361d455">R_XSPI_OSPI_DirectWrite</a> (<a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *p_ctrl, uint8_t const *const p_src, uint32_t const bytes, bool const read_after_write)</td></tr>
<tr class="separator:ga6a078843078f56dc586961e73361d455"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1c4014dc52de5e1ea57c0ba881b85a27"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___x_s_p_i___o_s_p_i.html#ga1c4014dc52de5e1ea57c0ba881b85a27">R_XSPI_OSPI_DirectRead</a> (<a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *p_ctrl, uint8_t *const p_dest, uint32_t const bytes)</td></tr>
<tr class="separator:ga1c4014dc52de5e1ea57c0ba881b85a27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf5076d7e3ab6762afb16eb83f95ae369"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___x_s_p_i___o_s_p_i.html#gaf5076d7e3ab6762afb16eb83f95ae369">R_XSPI_OSPI_SpiProtocolSet</a> (<a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *p_ctrl, <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga17c347a498a8a9d38ffc36c0de49a535">spi_flash_protocol_t</a> spi_protocol)</td></tr>
<tr class="separator:gaf5076d7e3ab6762afb16eb83f95ae369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b4f69f9341ecb8f50b524eb389220a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___x_s_p_i___o_s_p_i.html#ga9b4f69f9341ecb8f50b524eb389220a1">R_XSPI_OSPI_XipEnter</a> (<a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *p_ctrl)</td></tr>
<tr class="separator:ga9b4f69f9341ecb8f50b524eb389220a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4abd514e01d09706ca12dcea9638a015"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___x_s_p_i___o_s_p_i.html#ga4abd514e01d09706ca12dcea9638a015">R_XSPI_OSPI_XipExit</a> (<a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *p_ctrl)</td></tr>
<tr class="separator:ga4abd514e01d09706ca12dcea9638a015"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7bfd6bb973ae7b50d6e4dd61f2f63db5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___x_s_p_i___o_s_p_i.html#ga7bfd6bb973ae7b50d6e4dd61f2f63db5">R_XSPI_OSPI_Write</a> (<a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *p_ctrl, uint8_t const *const p_src, uint8_t *const p_dest, uint32_t byte_count)</td></tr>
<tr class="separator:ga7bfd6bb973ae7b50d6e4dd61f2f63db5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa611e3a9c739cfe40fde1ea4a416f21a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___x_s_p_i___o_s_p_i.html#gaa611e3a9c739cfe40fde1ea4a416f21a">R_XSPI_OSPI_Erase</a> (<a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *p_ctrl, uint8_t *const p_device_address, uint32_t byte_count)</td></tr>
<tr class="separator:gaa611e3a9c739cfe40fde1ea4a416f21a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga05ba32343ad208b17d950b55b33dc73b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___x_s_p_i___o_s_p_i.html#ga05ba32343ad208b17d950b55b33dc73b">R_XSPI_OSPI_StatusGet</a> (<a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *p_ctrl, <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#structspi__flash__status__t">spi_flash_status_t</a> *const p_status)</td></tr>
<tr class="separator:ga05ba32343ad208b17d950b55b33dc73b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ccb97618f1ab68e8ab75bcb254824c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___x_s_p_i___o_s_p_i.html#ga5ccb97618f1ab68e8ab75bcb254824c5">R_XSPI_OSPI_BankSet</a> (<a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *p_ctrl, uint32_t bank)</td></tr>
<tr class="separator:ga5ccb97618f1ab68e8ab75bcb254824c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga33cbe6104492f4c691f5803fe345ecca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___x_s_p_i___o_s_p_i.html#ga33cbe6104492f4c691f5803fe345ecca">R_XSPI_OSPI_DirectTransfer</a> (<a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *p_ctrl, <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#structspi__flash__direct__transfer__t">spi_flash_direct_transfer_t</a> *const p_transfer, <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga80ecf65e658f5b36bfe0bf2d88dd3ca5">spi_flash_direct_transfer_dir_t</a> direction)</td></tr>
<tr class="separator:ga33cbe6104492f4c691f5803fe345ecca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2b24047e009a0c99a0e9ba116304938"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___x_s_p_i___o_s_p_i.html#gad2b24047e009a0c99a0e9ba116304938">R_XSPI_OSPI_AutoCalibrate</a> (<a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *p_ctrl)</td></tr>
<tr class="separator:gad2b24047e009a0c99a0e9ba116304938"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Driver for the xSPI peripheral on RZ microprocessor. This module implements the <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html">SPI Flash Interface</a>. </p>
<h1><a class="anchor" id="r-xspi-ospi-overview"></a>
Overview</h1>
<p>The OSPI peripheral interfaces with an external OctaFlash chip to perform data I/O Operations.</p>
<h2><a class="anchor" id="r-xspi-ospi-features"></a>
Features</h2>
<p>The OSPI driver has the following key features:</p><ul>
<li>Perform data I/O Operation in multiple modes<ul>
<li>1S-1S-1S(SPI)<a class="anchor" id="um_ospi_spi"></a></li>
<li>8D-8D-8D(OPI) (Supports only Dual Data Rate when using 8 pins)<a class="anchor" id="um_ospi_opi"></a></li>
</ul>
</li>
<li>Can be configured with OctaFlash device on either of the 2 units</li>
<li>Memory mapped read access to the OctaFlash</li>
<li>Programming the OctaFlash device using single continuous write<a class="anchor" id="um_ospi_page_program"></a></li>
<li>Erasing the OctaFlash device<a class="anchor" id="um_ospi_erase"></a></li>
<li>Sending device specific commands and reading back responses<a class="anchor" id="um_ospi_direct_transfer"></a></li>
<li>3 byte addressing for 1S-1S-1S(SPI)<a class="anchor" id="um_ospi_3byte_address"></a></li>
<li>4 byte addressing for 1S-1S-1S(SPI) and 8D-8D-8D(OPI)<a class="anchor" id="um_ospi_4byte_address"></a></li>
<li>Auto-calibration for 8D-8D-8D(OPI) mode<a class="anchor" id="um_ospi_autocalibration"></a></li>
<li>Configurable byte order in 8D-8D-8D(OPI) mode except for memory mapping read<a class="anchor" id="um_ospi_byte_order"></a> <dl class="section note"><dt>Note</dt><dd>The available chip select lines may differ between devices. A full list of selectable chip select lines is available in the User's Manual for your device.</dd></dl>
</li>
</ul>
<h1><a class="anchor" id="r-xspi-ospi-configuration"></a>
Configuration</h1>
<p><h2>Build Time Configurations for r_xspi_ospi</h2>
The following build time configurations are defined in driver/r_xspi_ospi_cfg.h:<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr>
<td>Parameter Checking</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Default (BSP)</li>
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Default (BSP) </td><td>If selected code for parameter checking is included in the build. </td></tr>
<tr>
<td>Unit 0 Prefetch Function</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enable</li>
<li>
Disable</li>
</ul>
</td><td>Disable </td><td>Enable prefetch function on memory-mapped reads of xSPI Unit 0. </td></tr>
<tr>
<td>Unit 1 Prefetch Function</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enable</li>
<li>
Disable</li>
</ul>
</td><td>Disable </td><td>Enable prefetch function on memory-mapped reads of xSPI Unit 1. </td></tr>
</table>
 <h2>Configurations for Storage &gt; OSPI (r_xspi_ospi)</h2>
This module can be added to the Stacks tab via New Stack &gt; Storage &gt; OSPI (r_xspi_ospi).<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr>
<td>General &gt; Name</td><td>Name must be a valid C symbol</td><td>g_ospi0 </td><td>Module name. </td></tr>
<tr>
<td>General &gt; Unit</td><td>Unit should be 0 or 1</td><td>0 </td><td>Specify the XSPI unit number. </td></tr>
<tr>
<td>General &gt; Chip Select</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Chip Select 0</li>
<li>
Chip Select 1</li>
</ul>
</td><td>Chip Select 0 </td><td>Specify the OSPI chip select line to use. </td></tr>
<tr>
<td>General &gt; Flash Size</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
1MB</li>
<li>
2MB</li>
<li>
4MB</li>
<li>
8MB</li>
<li>
16MB</li>
<li>
32MB</li>
<li>
64MB</li>
</ul>
</td><td>64MB </td><td>Specify the OctaFlash size. </td></tr>
<tr>
<td>General &gt; SPI Protocol</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
1S-1S-1S (SPI)</li>
<li>
8D-8D-8D (Dual Data Rate OPI)</li>
</ul>
</td><td>1S-1S-1S (SPI) </td><td>Select the initial SPI protocol. SPI protocol can be changed in <a class="el" href="group___x_s_p_i___o_s_p_i.html#gaf5076d7e3ab6762afb16eb83f95ae369">R_XSPI_OSPI_SpiProtocolSet()</a>. </td></tr>
<tr>
<td>General &gt; Address Bytes</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
3</li>
<li>
4</li>
</ul>
</td><td>4 </td><td>Select the number of address bytes. </td></tr>
<tr>
<td>8D-8D-8D(OPI) Mode &gt; Auto-Calibration &gt; Data latching delay</td><td>Must be a valid non-negative integer</td><td>0x08 </td><td>Set this to 0 to enable auto-calibration. 0x08 is the default value </td></tr>
<tr>
<td>8D-8D-8D(OPI) Mode &gt; Auto-Calibration &gt; Auto-Calibration Address</td><td>Must be a valid non-negative integer</td><td>0x00 </td><td>Set the address of the read/write destination to be performed for auto-calibration. </td></tr>
<tr>
<td>8D-8D-8D(OPI) Mode &gt; Command Definitions &gt; Page Program Command</td><td>Manual Entry</td><td>0x12ED </td><td>The command to program a page in 8D-8D-8D(OPI) Mode. </td></tr>
<tr>
<td>8D-8D-8D(OPI) Mode &gt; Command Definitions &gt; Dual Read Command</td><td>Manual Entry</td><td>0xEE11 </td><td>The command to read in 8D-8D-8D(OPI) Mode (8DTRD). </td></tr>
<tr>
<td>8D-8D-8D(OPI) Mode &gt; Command Definitions &gt; Write Enable Command</td><td>Manual Entry</td><td>0x06F9 </td><td>The command to enable write in 8D-8D-8D(OPI) Mode. </td></tr>
<tr>
<td>8D-8D-8D(OPI) Mode &gt; Command Definitions &gt; Status Command</td><td>Manual Entry</td><td>0x05FA </td><td>The command to query the status of a write or erase command in 8D-8D-8D(OPI) Mode. </td></tr>
<tr>
<td>8D-8D-8D(OPI) Mode &gt; Command Length Bytes</td><td>Must be an integer between 1 and 2</td><td>2 </td><td>Command length in bytes </td></tr>
<tr>
<td>8D-8D-8D(OPI) Mode &gt; Memory Read Dummy Cycles</td><td>Must be an integer between 0 and 31</td><td>10 </td><td>Memory read dummy cycles </td></tr>
<tr>
<td>8D-8D-8D(OPI) Mode &gt; Byte Order</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Byte0, Byte1, Byte2, Byte3</li>
<li>
Byte1, Byte0, Byte3, Byte2</li>
</ul>
</td><td>Byte0, Byte1, Byte2, Byte3 </td><td>Byte order on the external bus. <br />
Note: When accesses without API (with memory mapping), the byte order is limited to Byte0, Byte1, Byte2, Byte3. </td></tr>
<tr>
<td>1S-1S-1S (SPI) Mode &gt; Command Definitions &gt; Page Program Command</td><td>Manual Entry</td><td>0x12 </td><td>The command to program a page in 1S-1S-1S (SPI) Mode. </td></tr>
<tr>
<td>1S-1S-1S (SPI) Mode &gt; Command Definitions &gt; Read Command</td><td>Manual Entry</td><td>0x13 </td><td>The command to read in 1S-1S-1S (SPI) Mode. </td></tr>
<tr>
<td>1S-1S-1S (SPI) Mode &gt; Command Definitions &gt; Write Enable Command</td><td>Manual Entry</td><td>0x06 </td><td>The command to enable write in 1S-1S-1S (SPI) Mode. </td></tr>
<tr>
<td>1S-1S-1S (SPI) Mode &gt; Command Definitions &gt; Status Command</td><td>Manual Entry</td><td>0x05 </td><td>The command to query the status of a write or erase command in 1S-1S-1S (SPI) Mode. </td></tr>
<tr>
<td>Common Command Definitions &gt; Sector Erase Command</td><td>Manual Entry</td><td>0x21DE </td><td>The command to erase a sector. Set Sector Erase Size to 0 if unused. </td></tr>
<tr>
<td>Common Command Definitions &gt; Block Erase Command</td><td>Manual Entry</td><td>0xDC23 </td><td>The command to erase a block. Set Block Erase Size to 0 if unused. </td></tr>
<tr>
<td>Common Command Definitions &gt; Chip Erase Command</td><td>Manual Entry</td><td>0xC738 </td><td>The command to erase the entire chip. Set Chip Erase Command to 0 if unused. </td></tr>
<tr>
<td>Common Command Definitions &gt; Write Status Bit</td><td>Must be an integer between 0 and 7</td><td>0 </td><td>Which bit contains the write in progress status returned from the Write Status Command. </td></tr>
<tr>
<td>Common Command Definitions &gt; Sector Erase Size</td><td>Must be an integer greater than or equal to 0</td><td>4096 </td><td>The sector erase size. Set Sector Erase Size to 0 if Sector Erase is not supported. </td></tr>
<tr>
<td>Common Command Definitions &gt; Block Erase Size</td><td>Must be an integer greater than or equal to 0</td><td>65536 </td><td>The block erase size. Set Block Erase Size to 0 if Block Erase is not supported. </td></tr>
<tr>
<td>Chip Select Timing Setting &gt; Command Interval</td><td>Refer to the RZT Configuration tool for available options.</td><td>7 CYCLES </td><td>Define the CS minimum idle term. </td></tr>
<tr>
<td>Chip Select Timing Setting &gt; Pull-up Timing</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
No Extension</li>
<li>
Extend 1 cycle</li>
</ul>
</td><td>No Extension </td><td>Define the CS negating extension </td></tr>
<tr>
<td>Chip Select Timing Setting &gt; Pull-down Timing</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
No Extension</li>
<li>
Extend 1 cycle</li>
</ul>
</td><td>No Extension </td><td>Define the CS asserting extension </td></tr>
</table>
</p>
<h2><a class="anchor" id="r-xspi-ospi-clock-configuration"></a>
Clock Configuration</h2>
<p>The XSPI_CLKn frequencies can be set on the <b>Clocks</b> tab of the FSP Configuration editor or by using the CGC Interface at run-time.</p>
<h2><a class="anchor" id="r-xspi-ospi-pin-configuration"></a>
Pin Configuration</h2>
<p>The following pins are available to connect to an external OSPI device:</p><ul>
<li>XSPIn_CKP: OSPI clock output</li>
<li>XSPIn_DS: OSPI data strobe signal</li>
<li>XSPIn_CS0: OSPI device 0 select</li>
<li>XSPIn_CS1: OSPI device 1 select</li>
<li>XSPIn_IO0: Data 0 I/O</li>
<li>XSPIn_IO1: Data 1 I/O</li>
<li>XSPIn_IO2: Data 2 I/O</li>
<li>XSPIn_IO3: Data 3 I/O</li>
<li>XSPIn_IO4: Data 4 I/O</li>
<li>XSPIn_IO5: Data 5 I/O</li>
<li>XSPIn_IO6: Data 6 I/O</li>
<li>XSPIn_IO7: Data 7 I/O</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Data pins and Chip Select pins must be configured with IOPORT_CFG_DRIVE_HIGH.</dd></dl>
<h1><a class="anchor" id="r-xspi-ospi-usage_notes"></a>
Usage Notes</h1>
<h2><a class="anchor" id="r-xspi-ospi-memory-mapped-access"></a>
OSPI Memory Mapped Access</h2>
<p>After <a class="el" href="group___x_s_p_i___o_s_p_i.html#ga67d8a86dcc3370f47dd8f113f604e1b2">R_XSPI_OSPI_Open()</a> completes successfully, the OctaFlash device contents are mapped to address 0x60000000 (unit 0) or 0x68000000 (unit 1) based on the unit configured and can be read like on-chip flash. When not using the cache, access the OctaFlash device via the mirror space 0x40000000 (unit 0) or 0x48000000 (unit 1). Unit 0 and Unit 1 support 128 MB of address space.</p>
<p>The address map details for the external address space xSPI unit 0 is as follows:</p>
<table class="doxtable">
<tr>
<th>Address </th><th>Space  </th></tr>
<tr>
<td>0x40000000 to 0x43FFFFFF </td><td>CS0 mirror space </td></tr>
<tr>
<td>0x44000000 to 0x47FFFFFF </td><td>CS1 mirror space </td></tr>
<tr>
<td>0x60000000 to 0x63FFFFFF </td><td>CS0 </td></tr>
<tr>
<td>0x64000000 to 0x67FFFFFF </td><td>CS1 </td></tr>
</table>
<p>The address map details for the external address space xSPI unit 1 is as follows:</p>
<table class="doxtable">
<tr>
<th>Address </th><th>Space  </th></tr>
<tr>
<td>0x48000000 to 0x4BFFFFFF </td><td>CS0 mirror space </td></tr>
<tr>
<td>0x4C000000 to 0x4FFFFFFF </td><td>CS1 mirror space </td></tr>
<tr>
<td>0x68000000 to 0x6BFFFFFF </td><td>CS0 </td></tr>
<tr>
<td>0x6C000000 to 0x6FFFFFFF </td><td>CS1 </td></tr>
</table>
<h2><a class="anchor" id="r-xspi-ospi-auto-calibration"></a>
Auto-calibration</h2>
<p>Auto-calibration procedure is triggered automatically when the 'Data latching delay' field in the configurator properties is set to 0. The user application is responsible for setting the appropriate preamble pattern before calling <a class="el" href="group___x_s_p_i___o_s_p_i.html#ga67d8a86dcc3370f47dd8f113f604e1b2">R_XSPI_OSPI_Open()</a> with 8D-8D-8D(OPI) mode or changing the SPI protocol to 8D-8D-8D(OPI) using <a class="el" href="group___x_s_p_i___o_s_p_i.html#gaf5076d7e3ab6762afb16eb83f95ae369">R_XSPI_OSPI_SpiProtocolSet()</a> API. The appropriate preamble pattern can be written to the desired address using the <a class="el" href="group___x_s_p_i___o_s_p_i.html#ga7bfd6bb973ae7b50d6e4dd61f2f63db5">R_XSPI_OSPI_Write()</a> API while in the 1S-1S-1S(SPI) mode. Ensure that the same address is passed through the configurator. If the OctaFlash chip is already in 8D-8D-8D(OPI) mode, the preamble pattern must be programmed using the debugger before calling <a class="el" href="group___x_s_p_i___o_s_p_i.html#ga67d8a86dcc3370f47dd8f113f604e1b2">R_XSPI_OSPI_Open()</a>.</p>
<h2><a class="anchor" id="r-xspi-ospi-chip-select-latencies"></a>
Chip Select Latencies</h2>
<p>Chip select latencies can be set through the configurator. The default settings support 1S-1S-1S(SPI) at minimum latency. In case the driver is opened in 1S-1S-1S(SPI) mode and will be switched to 8D-8D-8D(OPI) mode later using <a class="el" href="group___x_s_p_i___o_s_p_i.html#gaf5076d7e3ab6762afb16eb83f95ae369">R_XSPI_OSPI_SpiProtocolSet()</a>, please select latencies required for 8D-8D-8D(OPI) before calling <a class="el" href="group___x_s_p_i___o_s_p_i.html#ga67d8a86dcc3370f47dd8f113f604e1b2">R_XSPI_OSPI_Open()</a>.</p>
<h2><a class="anchor" id="r-xspi-ospi-octaflash-commands"></a>
OctaFlash Commands</h2>
<ul>
<li>Set the erase commands based on intended mode of operation (1S-1S-1S(SPI) or 8D-8D-8D(OPI)). These commands cannot be changed during run-time.</li>
<li>Read, Write and Status commands for both 1S-1S-1S(SPI) and 8D-8D-8D(OPI) are configured allowing switching between the modes at run-time.</li>
</ul>
<h2>OSPI Data and IAR</h2>
<p>When using the IAR compiler, OSPI data must be <code>const</code> qualified to be downloaded by the debugger.</p>
<h2><a class="anchor" id="r-xspi-ospi-limitations"></a>
Limitations</h2>
<ul>
<li>When using the xSPI_OSPI driver, it is necessary to set the MPU with External address space xSPIn (0x60000000 - 0x6FFFFFFF) as the cacheable area and Mirror area of external address space xSPIn (0x40000000 - 0x4FFFFFFF) as the non-cacheable area.</li>
<li>Prefetch function support for memory-mapping access is applied to all slave devices connected xSPI0 or xSPI1. When connecting different types of devices (for example, QSPI and OSPI) to same xSPI unit, make sure that the prefetch function settings are the same.</li>
</ul>
<h1><a class="anchor" id="r-ospi-examples"></a>
Examples</h1>
<h2>Basic Example</h2>
<p>This is a basic example of minimal use of the OSPI in an application. When using the section definition in the example below, the user must define it separately in the linker configuration file.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define OSPI_EXAMPLE_DATA_LENGTH    (1024)</span></div><div class="line"></div><div class="line">uint8_t g_dest[OSPI_EXAMPLE_DATA_LENGTH];</div><div class="line"></div><div class="line"><span class="comment">/* Place data in the .ospi_flash section to flash it during programming. */</span></div><div class="line"><span class="keyword">const</span> uint8_t g_src[OSPI_EXAMPLE_DATA_LENGTH] BSP_PLACE_IN_SECTION(<span class="stringliteral">&quot;.ospi_flash&quot;</span>) = <span class="stringliteral">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span>;</div><div class="line"></div><div class="line"><span class="comment">/* Place code in the .code_in_ospi section to flash it during programming. */</span></div><div class="line"><span class="keywordtype">void</span> r_ospi_example_function(<span class="keywordtype">void</span>) BSP_PLACE_IN_SECTION(<span class="stringliteral">&quot;.code_in_ospi&quot;</span>) __attribute__((noinline));</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> r_ospi_example_function (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="comment">/* Add code here. */</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> r_ospi_basic_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line"></div><div class="line">    <span class="comment">/* Open the OSPI instances */</span></div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> err = <a class="code" href="group___x_s_p_i___o_s_p_i.html#ga67d8a86dcc3370f47dd8f113f604e1b2">R_XSPI_OSPI_Open</a>(&amp;g_ospi0_ctrl, &amp;g_ospi0_cfg);</div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* (Optional) Change 1S-1S-1S(SPI) to 8D-8D-8D(OPI) mode */</span></div><div class="line">    r_ospi_example_spi_to_opi();</div><div class="line"></div><div class="line">    <span class="comment">/* After R_XSPI_OSPI_Open() and any required device specific initialization, data can be read directly from the OSPI flash. */</span></div><div class="line">    memcpy(&amp;g_dest[0], &amp;g_src[0], OSPI_EXAMPLE_DATA_LENGTH);</div><div class="line"></div><div class="line">    <span class="comment">/* After R_XSPI_OSPI_Open() and any required device specific initialization, functions in the OSPI flash can be called. */</span></div><div class="line">    r_ospi_example_function();</div><div class="line">}</div><div class="line"></div></div><!-- fragment --> <h2>Reading Status Register Example (R_XSPI_OSPI_DirectTransfer)</h2>
<p>This is an example of using R_XSPI_OSPI_DirectTransfer with write direction followed by R_XSPI_OSPI_DirectTransfer with read direction to send the write enable command and read back the status register from the device.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define OSPI_COMMAND_WRITE_ENABLE            (0x06U)</span></div><div class="line"><span class="preprocessor">#define OSPI_COMMAND_READ_STATUS_REGISTER    (0x05U)</span></div><div class="line"></div><div class="line"><span class="keywordtype">void</span> r_ospi_direct_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#structspi__flash__direct__transfer__t">spi_flash_direct_transfer_t</a> ospi_test_direct_transfer =</div><div class="line">    {</div><div class="line">        .<a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ab20fca5fa35e25becd87abc7539a4246">command</a>        = OSPI_COMMAND_WRITE_ENABLE,</div><div class="line">        .address        = 0U,</div><div class="line">        .data           = 0U,</div><div class="line">        .command_length = 1U,</div><div class="line">        .address_length = 0U,</div><div class="line">        .data_length    = 0U,</div><div class="line">        .dummy_cycles   = 0U</div><div class="line">    };</div><div class="line"></div><div class="line">    <span class="comment">/* Open the OSPI instance. */</span></div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> err = <a class="code" href="group___x_s_p_i___o_s_p_i.html#ga67d8a86dcc3370f47dd8f113f604e1b2">R_XSPI_OSPI_Open</a>(&amp;g_ospi0_ctrl, &amp;g_ospi0_cfg);</div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Write Enable */</span></div><div class="line">    err = <a class="code" href="group___x_s_p_i___o_s_p_i.html#ga33cbe6104492f4c691f5803fe345ecca">R_XSPI_OSPI_DirectTransfer</a>(&amp;g_ospi0_ctrl, &amp;ospi_test_direct_transfer, SPI_FLASH_DIRECT_TRANSFER_DIR_WRITE);</div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Read Status Register */</span></div><div class="line">    ospi_test_direct_transfer.<a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ab20fca5fa35e25becd87abc7539a4246">command</a>     = OSPI_COMMAND_READ_STATUS_REGISTER;</div><div class="line">    ospi_test_direct_transfer.<a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a5e3c48eb88187944722f745231f955f3">data_length</a> = 1U;</div><div class="line">    err = <a class="code" href="group___x_s_p_i___o_s_p_i.html#ga33cbe6104492f4c691f5803fe345ecca">R_XSPI_OSPI_DirectTransfer</a>(&amp;g_ospi0_ctrl, &amp;ospi_test_direct_transfer, SPI_FLASH_DIRECT_TRANSFER_DIR_READ);</div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line">    <span class="comment">/* Check if Write Enable is set */</span></div><div class="line">    <span class="keywordflow">if</span> (OSPI_WEN_BIT_MASK != (ospi_test_direct_transfer.data &amp; OSPI_WEN_BIT_MASK))</div><div class="line">    {</div><div class="line">        __BKPT(0);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div></div><!-- fragment --> <h2>Protocol Set Example (R_XSPI_OSPI_SpiProtocolSet)</h2>
<p>This is an example of using R_XSPI_OSPI_SpiProtocolSet to change the operating mode from 1S-1S-1S(SPI) to 8D-8D-8D(OPI) and the specific configuration procedure for OctaFlash.</p>
<div class="fragment"><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> r_ospi_example_spi_to_opi (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    r_ospi_write_enable_and_verify();</div><div class="line">    <a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#structspi__flash__direct__transfer__t">spi_flash_direct_transfer_t</a> ospi_test_direct_transfer =</div><div class="line">    {</div><div class="line">        .<a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ab20fca5fa35e25becd87abc7539a4246">command</a>        = OSPI_COMMAND_WCR2_SPI_MODE,</div><div class="line">        .address        = 0U,</div><div class="line">        .data           = 0U,</div><div class="line">        .command_length = 1U,</div><div class="line">        .address_length = 4U,</div><div class="line">        .data_length    = 1U,</div><div class="line">        .dummy_cycles   = 0U</div><div class="line">    };</div><div class="line"></div><div class="line">    <span class="comment">/* Change dummy cycles according to requested frequency, consider 100MHz for this example */</span></div><div class="line">    ospi_test_direct_transfer.<a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a5120cdb55dcd4ce8da04eb8baa69254d">address</a> = OSPI_CR2_ADDRESS_HEX_300;</div><div class="line">    ospi_test_direct_transfer.data    = 0x5U; <span class="comment">/* Sets 10 dummy cycles */</span></div><div class="line"></div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> err =</div><div class="line">        <a class="code" href="group___x_s_p_i___o_s_p_i.html#ga33cbe6104492f4c691f5803fe345ecca">R_XSPI_OSPI_DirectTransfer</a>(&amp;g_ospi0_ctrl, &amp;ospi_test_direct_transfer, SPI_FLASH_DIRECT_TRANSFER_DIR_WRITE);</div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line">    <span class="comment">/* Read CR2 and check if dummy cycles are updated */</span></div><div class="line">    ospi_test_direct_transfer.<a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ab20fca5fa35e25becd87abc7539a4246">command</a> = OSPI_COMMAND_RCR2_SPI_MODE;</div><div class="line">    err = <a class="code" href="group___x_s_p_i___o_s_p_i.html#ga33cbe6104492f4c691f5803fe345ecca">R_XSPI_OSPI_DirectTransfer</a>(&amp;g_ospi0_ctrl, &amp;ospi_test_direct_transfer, SPI_FLASH_DIRECT_TRANSFER_DIR_READ);</div><div class="line">    handle_error(err);</div><div class="line">    <span class="keywordflow">if</span> (0x5 != ospi_test_direct_transfer.data)</div><div class="line">    {</div><div class="line">        __BKPT(0);</div><div class="line">    }</div><div class="line"></div><div class="line">    r_ospi_write_enable_and_verify();</div><div class="line"></div><div class="line">    <span class="comment">/* The OctaFlash chip is in 1S-1S-1S(SPI) mode. Change 8D-8D-8D(OPI) mode */</span></div><div class="line">    ospi_test_direct_transfer.<a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ab20fca5fa35e25becd87abc7539a4246">command</a> = OSPI_COMMAND_WCR2_SPI_MODE;</div><div class="line">    ospi_test_direct_transfer.<a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a5120cdb55dcd4ce8da04eb8baa69254d">address</a> = 0x0U;</div><div class="line">    ospi_test_direct_transfer.data    = OSPI_CR2_OPI_SETTING;</div><div class="line">    err = <a class="code" href="group___x_s_p_i___o_s_p_i.html#ga33cbe6104492f4c691f5803fe345ecca">R_XSPI_OSPI_DirectTransfer</a>(&amp;g_ospi0_ctrl, &amp;ospi_test_direct_transfer, SPI_FLASH_DIRECT_TRANSFER_DIR_WRITE);</div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line">    <span class="comment">/* Change XSPI_CLK0 appropriately. For this example set XSPI_CLK0 = 100 MHz */</span></div><div class="line">    ospi_example_change_omclk();</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Transition the OSPI peripheral to 8D-8D-8D(OPI) mode. */</span></div><div class="line">    err = <a class="code" href="group___x_s_p_i___o_s_p_i.html#gaf5076d7e3ab6762afb16eb83f95ae369">R_XSPI_OSPI_SpiProtocolSet</a>(&amp;g_ospi0_ctrl, <a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#gga17c347a498a8a9d38ffc36c0de49a535acf8fc61585bd2209fc3953d8d2eb4606">SPI_FLASH_PROTOCOL_8D_8D_8D</a>);</div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Verify that the chip is in requested 8D-8D-8D(OPI) mode */</span></div><div class="line">    ospi_test_direct_transfer.<a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ab20fca5fa35e25becd87abc7539a4246">command</a> = OSPI_COMMAND_RCR2_SPI_MODE;</div><div class="line">    err = <a class="code" href="group___x_s_p_i___o_s_p_i.html#ga33cbe6104492f4c691f5803fe345ecca">R_XSPI_OSPI_DirectTransfer</a>(&amp;g_ospi0_ctrl, &amp;ospi_test_direct_transfer, SPI_FLASH_DIRECT_TRANSFER_DIR_READ);</div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (OSPI_CR2_OPI_SETTING != ospi_test_direct_transfer.data)</div><div class="line">    {</div><div class="line">        __BKPT(0);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div></div><!-- fragment --> <h2>Auto-calibration Example (R_XSPI_OSPI_Open, R_XSPI_OSPI_Write, R_XSPI_OSPI_SpiProtocolSet)</h2>
<p>This is an example of using R_XSPI_OSPI_SpiProtocolSet to change the operating mode from 1S-1S-1S(SPI) to 8D-8D-8D(OPI) and allow the driver to initiate auto-calibration.</p>
<div class="fragment"><div class="line"></div><div class="line"><span class="preprocessor">#define OSPI_OPI_PREAMBLE_PATTERN_LENGTH_BYTES    (16U)</span></div><div class="line"><span class="preprocessor">#define OSPI_EXAMPLE_PREAMBLE_ADDRESS             (0x60000000U) </span><span class="comment">/* Device connected to xSPI0_CS0 */</span><span class="preprocessor"></span></div><div class="line"><span class="keyword">const</span> uint8_t g_preamble_bytes[OSPI_OPI_PREAMBLE_PATTERN_LENGTH_BYTES] =</div><div class="line">{</div><div class="line">    0x00, 0x00, 0xFF, 0xFF, 0xFF, 0x00, 0x08, 0x00, 0x00, 0xF7, 0xFF, 0x00, 0x08, 0xF7, 0x00, 0xF7</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> ospi_example_wait_until_wip (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a>          err = FSP_SUCCESS;</div><div class="line">    <a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#structspi__flash__status__t">spi_flash_status_t</a> status;</div><div class="line">    status.<a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ae20d4bed523ca4e802f5da6fdec4ca43">write_in_progress</a> = <span class="keyword">true</span>;</div><div class="line">    uint32_t timeout = UINT32_MAX;</div><div class="line">    <span class="keywordflow">while</span> ((status.<a class="code" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ae20d4bed523ca4e802f5da6fdec4ca43">write_in_progress</a>) &amp;&amp; (--timeout))</div><div class="line">    {</div><div class="line"></div><div class="line">        err = <a class="code" href="group___x_s_p_i___o_s_p_i.html#ga05ba32343ad208b17d950b55b33dc73b">R_XSPI_OSPI_StatusGet</a>(&amp;g_ospi0_ctrl, &amp;status);</div><div class="line">        handle_error(err);</div><div class="line"></div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (0 == timeout)</div><div class="line">    {</div><div class="line">        handle_error(err);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> r_ospi_auto_calibrate_example (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="comment">/* Open the OSPI instance. */</span></div><div class="line">    <span class="comment">/* Set data_latch_delay_clocks to 0x0 to enable auto-calibration */</span></div><div class="line">    <a class="code" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> err = <a class="code" href="group___x_s_p_i___o_s_p_i.html#ga67d8a86dcc3370f47dd8f113f604e1b2">R_XSPI_OSPI_Open</a>(&amp;g_ospi0_ctrl, &amp;g_ospi0_cfg);</div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line">    uint8_t * preamble_pattern_addr = (uint8_t *) OSPI_EXAMPLE_PREAMBLE_ADDRESS;</div><div class="line"></div><div class="line"></div><div class="line">    err = <a class="code" href="group___x_s_p_i___o_s_p_i.html#ga7bfd6bb973ae7b50d6e4dd61f2f63db5">R_XSPI_OSPI_Write</a>(&amp;g_ospi0_ctrl,</div><div class="line">                            g_preamble_bytes,</div><div class="line">                            preamble_pattern_addr,</div><div class="line">                            OSPI_OPI_PREAMBLE_PATTERN_LENGTH_BYTES);</div><div class="line">    handle_error(err);</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/* Wait until write has been completed */</span></div><div class="line">    ospi_example_wait_until_wip();</div><div class="line"></div><div class="line">    <span class="comment">/* Change from 1S-1S-1S(SPI) to 8D-8D-8D(OPI) mode */</span></div><div class="line">    r_ospi_example_spi_to_opi();</div><div class="line">}</div><div class="line"></div></div><!-- fragment --> <h2>Octaclk Update Example</h2>
<p>This is an example of using R_CGC_SystemClockSet to change the Octal-SPI clock frequency during run time. The xSPI_CLK frequency must be updated before calling the R_XSPI_OSPI_SpiProtocolSet with appropriate clock source and divider settings required to be set for the new SPI protocol mode. Ensure that the clock source selected is started.</p>
<div class="fragment"><div class="line"><a class="code" href="group___c_g_c.html#structcgc__instance__ctrl__t">cgc_instance_ctrl_t</a> g_cgc0_ctrl;</div><div class="line"><span class="keyword">const</span> <a class="code" href="group___c_g_c___a_p_i.html#structcgc__cfg__t">cgc_cfg_t</a>     g_cgc0_cfg = {NULL};</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> ospi_example_change_omclk (<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    (void) <a class="code" href="group___c_g_c.html#ga84e412218c7f8074623d521bfc331a3c">R_CGC_Open</a>(&amp;g_cgc0_ctrl, &amp;g_cgc0_cfg);</div><div class="line"></div><div class="line">    <span class="comment">/* Get system clock configuration */</span></div><div class="line">    <a class="code" href="group___c_g_c___a_p_i.html#structcgc__divider__cfg__t">cgc_divider_cfg_t</a> divider_cfg;</div><div class="line">    <a class="code" href="group___c_g_c___a_p_i.html#ga4dcbe960cf591207eef834969b83f8a6">cgc_clock_t</a>       clock;</div><div class="line">    <a class="code" href="group___c_g_c.html#ga52e037474dd1e9ebd92c3e3746517557">R_CGC_SystemClockGet</a>(&amp;g_cgc0_ctrl, &amp;clock, &amp;divider_cfg);</div><div class="line"></div><div class="line">    <span class="comment">/* Update XSPI_CLK0 clock to 100.0MHz */</span></div><div class="line">    divider_cfg.sckcr_b.fselxspi0   = CGC_FSEL_XSPI_CLOCK_DIV_8;</div><div class="line">    divider_cfg.sckcr_b.divselxspi0 = CGC_DIVSEL_XSPI_CLOCK_DIV_3;</div><div class="line">    <a class="code" href="group___c_g_c.html#ga7f14fdc1ec5733550f503bd6868f98cd">R_CGC_SystemClockSet</a>(&amp;g_cgc0_ctrl, clock, &amp;divider_cfg);</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structxspi__ospi__instance__ctrl__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___x_s_p_i___o_s_p_i.html#structxspi__ospi__instance__ctrl__t">xspi_ospi_instance_ctrl_t</a></td></tr>
<tr class="separator:structxspi__ospi__instance__ctrl__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gacec2eca2e7dde232d1a3808521208a30"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___x_s_p_i___o_s_p_i.html#gacec2eca2e7dde232d1a3808521208a30">xspi_ospi_chip_select_t</a> </td></tr>
<tr class="separator:gacec2eca2e7dde232d1a3808521208a30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4755de6951a4090de81dc608dca4b6f2"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___x_s_p_i___o_s_p_i.html#ga4755de6951a4090de81dc608dca4b6f2">xspi_ospi_memory_size_t</a> </td></tr>
<tr class="separator:ga4755de6951a4090de81dc608dca4b6f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga45613ac5bf636dc0e3f5856b5245e4f7"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___x_s_p_i___o_s_p_i.html#ga45613ac5bf636dc0e3f5856b5245e4f7">xspi_ospi_command_interval_clocks_t</a> </td></tr>
<tr class="separator:ga45613ac5bf636dc0e3f5856b5245e4f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac34504f989c7d2049ba059bb7d344a1b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___x_s_p_i___o_s_p_i.html#gac34504f989c7d2049ba059bb7d344a1b">xspi_ospi_cs_pullup_clocks_t</a> </td></tr>
<tr class="separator:gac34504f989c7d2049ba059bb7d344a1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga440f55141163d70b896fa3a3444f3404"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___x_s_p_i___o_s_p_i.html#ga440f55141163d70b896fa3a3444f3404">xspi_ospi_cs_pulldown_clocks_t</a> </td></tr>
<tr class="separator:ga440f55141163d70b896fa3a3444f3404"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0f7510f116df0bbbd86af6663d9c6c69"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___x_s_p_i___o_s_p_i.html#ga0f7510f116df0bbbd86af6663d9c6c69">xspi_ospi_prefetch_function_t</a> </td></tr>
<tr class="separator:ga0f7510f116df0bbbd86af6663d9c6c69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae4ac87a62886f5558cb5d21cd5f2357f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___x_s_p_i___o_s_p_i.html#gae4ac87a62886f5558cb5d21cd5f2357f">xspi_ospi_byte_order_t</a> </td></tr>
<tr class="separator:gae4ac87a62886f5558cb5d21cd5f2357f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structxspi__ospi__instance__ctrl__t" id="structxspi__ospi__instance__ctrl__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structxspi__ospi__instance__ctrl__t">&#9670;&nbsp;</a></span>xspi_ospi_instance_ctrl_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct xspi_ospi_instance_ctrl_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Instance control block. DO NOT INITIALIZE. Initialization occurs when <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a75a4468493abb92f6bf484ed93718f6f">spi_flash_api_t::open</a> is called </p>
</div>
</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gacec2eca2e7dde232d1a3808521208a30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacec2eca2e7dde232d1a3808521208a30">&#9670;&nbsp;</a></span>xspi_ospi_chip_select_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___x_s_p_i___o_s_p_i.html#gacec2eca2e7dde232d1a3808521208a30">xspi_ospi_chip_select_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggacec2eca2e7dde232d1a3808521208a30ad4ab6c6e29c87f8431fc84d4afa4f027"></a>XSPI_OSPI_CHIP_SELECT_0&#160;</td><td class="fielddoc"><p>Device connected to Chip-Select 0. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggacec2eca2e7dde232d1a3808521208a30a7c71a9272f85efd6d6cf0f3eaa660f1c"></a>XSPI_OSPI_CHIP_SELECT_1&#160;</td><td class="fielddoc"><p>Device connected to Chip-Select 1. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga4755de6951a4090de81dc608dca4b6f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4755de6951a4090de81dc608dca4b6f2">&#9670;&nbsp;</a></span>xspi_ospi_memory_size_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___x_s_p_i___o_s_p_i.html#ga4755de6951a4090de81dc608dca4b6f2">xspi_ospi_memory_size_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga4755de6951a4090de81dc608dca4b6f2a35154c5afabc8686d234f5b124548915"></a>XSPI_OSPI_MEMORY_SIZE_1MB&#160;</td><td class="fielddoc"><p>Memory size 1MB. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga4755de6951a4090de81dc608dca4b6f2ae4b4365badcc126e597b3bd6c6e1d09e"></a>XSPI_OSPI_MEMORY_SIZE_2MB&#160;</td><td class="fielddoc"><p>Memory size 2MB. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga4755de6951a4090de81dc608dca4b6f2aafd27dccafb80803d38e423c6d3b81e8"></a>XSPI_OSPI_MEMORY_SIZE_4MB&#160;</td><td class="fielddoc"><p>Memory size 4MB. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga4755de6951a4090de81dc608dca4b6f2a63abb281b493d6fbc7bf722afa346fd0"></a>XSPI_OSPI_MEMORY_SIZE_8MB&#160;</td><td class="fielddoc"><p>Memory size 8MB. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga4755de6951a4090de81dc608dca4b6f2ae14a7eebf98959e529951573af4fdd81"></a>XSPI_OSPI_MEMORY_SIZE_16MB&#160;</td><td class="fielddoc"><p>Memory size 16MB. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga4755de6951a4090de81dc608dca4b6f2a0beda24c43de098447ca5c70b5ce665e"></a>XSPI_OSPI_MEMORY_SIZE_32MB&#160;</td><td class="fielddoc"><p>Memory size 32MB. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga4755de6951a4090de81dc608dca4b6f2a9093e89c75ef3953a0040e7c896a4c8b"></a>XSPI_OSPI_MEMORY_SIZE_64MB&#160;</td><td class="fielddoc"><p>Memory size 64MB. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga45613ac5bf636dc0e3f5856b5245e4f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga45613ac5bf636dc0e3f5856b5245e4f7">&#9670;&nbsp;</a></span>xspi_ospi_command_interval_clocks_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___x_s_p_i___o_s_p_i.html#ga45613ac5bf636dc0e3f5856b5245e4f7">xspi_ospi_command_interval_clocks_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga45613ac5bf636dc0e3f5856b5245e4f7a8e7b8dd3a5a8bc0d3b53b675842e95e1"></a>XSPI_OSPI_COMMAND_INTERVAL_CLOCKS_1&#160;</td><td class="fielddoc"><p>1 interval clocks </p>
</td></tr>
<tr><td class="fieldname"><a id="gga45613ac5bf636dc0e3f5856b5245e4f7ac054bbaa2bef980307fe66b995447c96"></a>XSPI_OSPI_COMMAND_INTERVAL_CLOCKS_2&#160;</td><td class="fielddoc"><p>2 interval clocks </p>
</td></tr>
<tr><td class="fieldname"><a id="gga45613ac5bf636dc0e3f5856b5245e4f7ad79c9b954b222340ccd8bf2e7467f6f8"></a>XSPI_OSPI_COMMAND_INTERVAL_CLOCKS_3&#160;</td><td class="fielddoc"><p>3 interval clocks </p>
</td></tr>
<tr><td class="fieldname"><a id="gga45613ac5bf636dc0e3f5856b5245e4f7ad9868e4afb78193f8be2e7211f1ea922"></a>XSPI_OSPI_COMMAND_INTERVAL_CLOCKS_4&#160;</td><td class="fielddoc"><p>4 interval clocks </p>
</td></tr>
<tr><td class="fieldname"><a id="gga45613ac5bf636dc0e3f5856b5245e4f7a8724926ac1e08bb129bb75a00e61ac65"></a>XSPI_OSPI_COMMAND_INTERVAL_CLOCKS_5&#160;</td><td class="fielddoc"><p>5 interval clocks </p>
</td></tr>
<tr><td class="fieldname"><a id="gga45613ac5bf636dc0e3f5856b5245e4f7ac2f7725a8219adb8a4f0affeb8a1a849"></a>XSPI_OSPI_COMMAND_INTERVAL_CLOCKS_6&#160;</td><td class="fielddoc"><p>6 interval clocks </p>
</td></tr>
<tr><td class="fieldname"><a id="gga45613ac5bf636dc0e3f5856b5245e4f7a640d0285f5af688d03f6f49bd7e28443"></a>XSPI_OSPI_COMMAND_INTERVAL_CLOCKS_7&#160;</td><td class="fielddoc"><p>7 interval clocks </p>
</td></tr>
<tr><td class="fieldname"><a id="gga45613ac5bf636dc0e3f5856b5245e4f7aff1e68d175d3ab718c3b692835c63f4a"></a>XSPI_OSPI_COMMAND_INTERVAL_CLOCKS_8&#160;</td><td class="fielddoc"><p>8 interval clocks </p>
</td></tr>
<tr><td class="fieldname"><a id="gga45613ac5bf636dc0e3f5856b5245e4f7a8a6d0f9e99c94345d2caac6db11c465a"></a>XSPI_OSPI_COMMAND_INTERVAL_CLOCKS_9&#160;</td><td class="fielddoc"><p>9 interval clocks </p>
</td></tr>
<tr><td class="fieldname"><a id="gga45613ac5bf636dc0e3f5856b5245e4f7a867b21e9bf091bf58695f8d3c3844d37"></a>XSPI_OSPI_COMMAND_INTERVAL_CLOCKS_10&#160;</td><td class="fielddoc"><p>10 interval clocks </p>
</td></tr>
<tr><td class="fieldname"><a id="gga45613ac5bf636dc0e3f5856b5245e4f7a6b3373ab1ff6865af47f0c8dc5ddaefe"></a>XSPI_OSPI_COMMAND_INTERVAL_CLOCKS_11&#160;</td><td class="fielddoc"><p>11 interval clocks </p>
</td></tr>
<tr><td class="fieldname"><a id="gga45613ac5bf636dc0e3f5856b5245e4f7a533e797202fe6fb3eb1fa6cd8b743867"></a>XSPI_OSPI_COMMAND_INTERVAL_CLOCKS_12&#160;</td><td class="fielddoc"><p>12 interval clocks </p>
</td></tr>
<tr><td class="fieldname"><a id="gga45613ac5bf636dc0e3f5856b5245e4f7ab5318a9bb36ed1355b3c10477767dd32"></a>XSPI_OSPI_COMMAND_INTERVAL_CLOCKS_13&#160;</td><td class="fielddoc"><p>13 interval clocks </p>
</td></tr>
<tr><td class="fieldname"><a id="gga45613ac5bf636dc0e3f5856b5245e4f7ad682c8d911584ec2111d0672e47b634f"></a>XSPI_OSPI_COMMAND_INTERVAL_CLOCKS_14&#160;</td><td class="fielddoc"><p>14 interval clocks </p>
</td></tr>
<tr><td class="fieldname"><a id="gga45613ac5bf636dc0e3f5856b5245e4f7a7f3671724dbd845aa51727b92e43d72e"></a>XSPI_OSPI_COMMAND_INTERVAL_CLOCKS_15&#160;</td><td class="fielddoc"><p>15 interval clocks </p>
</td></tr>
<tr><td class="fieldname"><a id="gga45613ac5bf636dc0e3f5856b5245e4f7a847808c5c85144a36a5536907a1810b2"></a>XSPI_OSPI_COMMAND_INTERVAL_CLOCKS_16&#160;</td><td class="fielddoc"><p>16 interval clocks </p>
</td></tr>
</table>

</div>
</div>
<a id="gac34504f989c7d2049ba059bb7d344a1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac34504f989c7d2049ba059bb7d344a1b">&#9670;&nbsp;</a></span>xspi_ospi_cs_pullup_clocks_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___x_s_p_i___o_s_p_i.html#gac34504f989c7d2049ba059bb7d344a1b">xspi_ospi_cs_pullup_clocks_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggac34504f989c7d2049ba059bb7d344a1baad3706f5788b857cb7116f96333e468f"></a>XSPI_OSPI_CS_PULLUP_CLOCKS_NO_EXTENSION&#160;</td><td class="fielddoc"><p>CS asserting No extension. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggac34504f989c7d2049ba059bb7d344a1baafb70439ace8d55ac319e6ebfa53cc71"></a>XSPI_OSPI_CS_PULLUP_CLOCKS_1&#160;</td><td class="fielddoc"><p>CS asserting Extend 1 cycle. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga440f55141163d70b896fa3a3444f3404"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga440f55141163d70b896fa3a3444f3404">&#9670;&nbsp;</a></span>xspi_ospi_cs_pulldown_clocks_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___x_s_p_i___o_s_p_i.html#ga440f55141163d70b896fa3a3444f3404">xspi_ospi_cs_pulldown_clocks_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga440f55141163d70b896fa3a3444f3404a6fac7151263f68bd34117ceaf2224674"></a>XSPI_OSPI_CS_PULLDOWN_CLOCKS_NO_EXTENSION&#160;</td><td class="fielddoc"><p>CS negating No extension. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga440f55141163d70b896fa3a3444f3404acf8aaf25fc1de42fb4aefef9d13e8312"></a>XSPI_OSPI_CS_PULLDOWN_CLOCKS_1&#160;</td><td class="fielddoc"><p>CS negating Extend 1 cycle. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga0f7510f116df0bbbd86af6663d9c6c69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0f7510f116df0bbbd86af6663d9c6c69">&#9670;&nbsp;</a></span>xspi_ospi_prefetch_function_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___x_s_p_i___o_s_p_i.html#ga0f7510f116df0bbbd86af6663d9c6c69">xspi_ospi_prefetch_function_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga0f7510f116df0bbbd86af6663d9c6c69a2532a6ae87098b793b7fb4567aaa6d29"></a>XSPI_OSPI_PREFETCH_FUNCTION_DISABLE&#160;</td><td class="fielddoc"><p>Prefetch function disable. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga0f7510f116df0bbbd86af6663d9c6c69a6dede61f6be759301b9f29d4ed224a50"></a>XSPI_OSPI_PREFETCH_FUNCTION_ENABLE&#160;</td><td class="fielddoc"><p>Prefetch function enable. </p>
</td></tr>
</table>

</div>
</div>
<a id="gae4ac87a62886f5558cb5d21cd5f2357f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae4ac87a62886f5558cb5d21cd5f2357f">&#9670;&nbsp;</a></span>xspi_ospi_byte_order_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___x_s_p_i___o_s_p_i.html#gae4ac87a62886f5558cb5d21cd5f2357f">xspi_ospi_byte_order_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggae4ac87a62886f5558cb5d21cd5f2357fa7d7f5251e544d4e038e7714eb521bcc7"></a>XSPI_OSPI_BYTE_ORDER_0123&#160;</td><td class="fielddoc"><p>8D-8D-8D(OPI) byte order byte 0, byte 1, byte 2, byte 3 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggae4ac87a62886f5558cb5d21cd5f2357fae1c39de0296598d4c18f1fdcc8025ad6"></a>XSPI_OSPI_BYTE_ORDER_1032&#160;</td><td class="fielddoc"><p>8D-8D-8D(OPI) byte order byte 1, byte 0, byte 3, byte 2 </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga67d8a86dcc3370f47dd8f113f604e1b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga67d8a86dcc3370f47dd8f113f604e1b2">&#9670;&nbsp;</a></span>R_XSPI_OSPI_Open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_XSPI_OSPI_Open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#structspi__flash__cfg__t">spi_flash_cfg_t</a> const *const&#160;</td>
          <td class="paramname"><em>p_cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open the OSPI driver module. After the driver is open, the OSPI can be accessed like internal flash memory.</p>
<p>Implements <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a75a4468493abb92f6bf484ed93718f6f">spi_flash_api_t::open</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Configuration was successful. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>The parameter p_ctrl or p_cfg is NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_ALREADY_OPEN</td><td>Driver has already been opened with the same p_ctrl. </td></tr>
    <tr><td class="paramname">FSP_ERR_CALIBRATE_FAILED</td><td>Failed to perform auto-calibrate. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac4a104b286e181e85aa9f49cfd415743"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac4a104b286e181e85aa9f49cfd415743">&#9670;&nbsp;</a></span>R_XSPI_OSPI_Close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_XSPI_OSPI_Close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close the OSPI driver module.</p>
<p>Implements <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a28bdae798428b85222739a0b9fd43a15">spi_flash_api_t::close</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>Configuration was successful. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>p_instance_ctrl is NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Driver is not opened. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6a078843078f56dc586961e73361d455"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6a078843078f56dc586961e73361d455">&#9670;&nbsp;</a></span>R_XSPI_OSPI_DirectWrite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_XSPI_OSPI_DirectWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t const *const&#160;</td>
          <td class="paramname"><em>p_src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t const&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool const&#160;</td>
          <td class="paramname"><em>read_after_write</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes raw data directly to the OctaFlash. API not supported. Use R_XSPI_OSPI_DirectTransfer</p>
<p>Implements <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#aebfa0317034f04f53b6b788da0debe80">spi_flash_api_t::directWrite</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>API not supported by OSPI. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1c4014dc52de5e1ea57c0ba881b85a27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1c4014dc52de5e1ea57c0ba881b85a27">&#9670;&nbsp;</a></span>R_XSPI_OSPI_DirectRead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_XSPI_OSPI_DirectRead </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *const&#160;</td>
          <td class="paramname"><em>p_dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t const&#160;</td>
          <td class="paramname"><em>bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads raw data directly from the OctaFlash. API not supported. Use R_XSPI_OSPI_DirectTransfer.</p>
<p>Implements <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a4b3bfefb3b1ff0580fe1cce97b81c56f">spi_flash_api_t::directRead</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>API not supported by OSPI. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf5076d7e3ab6762afb16eb83f95ae369"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf5076d7e3ab6762afb16eb83f95ae369">&#9670;&nbsp;</a></span>R_XSPI_OSPI_SpiProtocolSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_XSPI_OSPI_SpiProtocolSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga17c347a498a8a9d38ffc36c0de49a535">spi_flash_protocol_t</a>&#160;</td>
          <td class="paramname"><em>spi_protocol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the SPI protocol.</p>
<p>Implements <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a423e63cd15ce3984410c2f5cdf717e35">spi_flash_api_t::spiProtocolSet</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>SPI protocol updated on MPU peripheral. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>A required pointer is NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Driver is not opened. </td></tr>
    <tr><td class="paramname">FSP_ERR_CALIBRATE_FAILED</td><td>Failed to perform auto-calibrate. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga9b4f69f9341ecb8f50b524eb389220a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9b4f69f9341ecb8f50b524eb389220a1">&#9670;&nbsp;</a></span>R_XSPI_OSPI_XipEnter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_XSPI_OSPI_XipEnter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enters XIP (execute in place) mode.</p>
<p>Implements <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a48a9a0db1f5bcb24acc9cc1cea14f0ab">spi_flash_api_t::xipEnter</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>API not supported by OSPI. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga4abd514e01d09706ca12dcea9638a015"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4abd514e01d09706ca12dcea9638a015">&#9670;&nbsp;</a></span>R_XSPI_OSPI_XipExit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_XSPI_OSPI_XipExit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Exits XIP (execute in place) mode.</p>
<p>Implements <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a00317079cf31b5311592d0845caa4d8a">spi_flash_api_t::xipExit</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>API not supported by OSPI. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga7bfd6bb973ae7b50d6e4dd61f2f63db5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7bfd6bb973ae7b50d6e4dd61f2f63db5">&#9670;&nbsp;</a></span>R_XSPI_OSPI_Write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_XSPI_OSPI_Write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t const *const&#160;</td>
          <td class="paramname"><em>p_src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *const&#160;</td>
          <td class="paramname"><em>p_dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>byte_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Program a page of data to the flash.</p>
<p>Implements <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a35480fe077054fff8bd41c67dbce88fb">spi_flash_api_t::write</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>The flash was programmed successfully. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>p_instance_ctrl, p_dest or p_src is NULL, or byte_count crosses a page boundary. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Driver is not opened. </td></tr>
    <tr><td class="paramname">FSP_ERR_DEVICE_BUSY</td><td>Another Write/Erase transaction is in progress.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>In this API, data can be written up to 64 bytes at a time. </dd>
<dd>
This API performs page program operations to the device. Writing across pages is not supported. Please set the write address and write size according to the page size of your device. </dd>
<dd>
In 8D-8D-8D(OPI) mode, written data must be even bytes in size. </dd></dl>

</div>
</div>
<a id="gaa611e3a9c739cfe40fde1ea4a416f21a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa611e3a9c739cfe40fde1ea4a416f21a">&#9670;&nbsp;</a></span>R_XSPI_OSPI_Erase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_XSPI_OSPI_Erase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *const&#160;</td>
          <td class="paramname"><em>p_device_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>byte_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Erase a block or sector of flash. The byte_count must exactly match one of the erase sizes defined in <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#structspi__flash__cfg__t">spi_flash_cfg_t</a>. For chip erase, byte_count must be SPI_FLASH_ERASE_SIZE_CHIP_ERASE.</p>
<p>Implements <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a4fb48ee9af80243cf7f8f966b4c6c56e">spi_flash_api_t::erase</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>The command to erase the flash was executed successfully. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>p_instance_ctrl or p_device_address is NULL, byte_count doesn't match an erase size defined in <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#structspi__flash__cfg__t">spi_flash_cfg_t</a>, or byte_count is set to 0. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Driver is not opened. </td></tr>
    <tr><td class="paramname">FSP_ERR_DEVICE_BUSY</td><td>The device is busy. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga05ba32343ad208b17d950b55b33dc73b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga05ba32343ad208b17d950b55b33dc73b">&#9670;&nbsp;</a></span>R_XSPI_OSPI_StatusGet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_XSPI_OSPI_StatusGet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#structspi__flash__status__t">spi_flash_status_t</a> *const&#160;</td>
          <td class="paramname"><em>p_status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the write or erase status of the flash.</p>
<p>Implements <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a36600006109effd5c9d47283a7760ce6">spi_flash_api_t::statusGet</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>The write status is in p_status. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>p_instance_ctrl or p_status is NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Driver is not opened. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga5ccb97618f1ab68e8ab75bcb254824c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ccb97618f1ab68e8ab75bcb254824c5">&#9670;&nbsp;</a></span>R_XSPI_OSPI_BankSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_XSPI_OSPI_BankSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>bank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Selects the bank to access.</p>
<p>Implements <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ae581e587fb514ab784257d07a77d6b32">spi_flash_api_t::bankSet</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>API not supported by OSPI. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga33cbe6104492f4c691f5803fe345ecca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga33cbe6104492f4c691f5803fe345ecca">&#9670;&nbsp;</a></span>R_XSPI_OSPI_DirectTransfer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_XSPI_OSPI_DirectTransfer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_ctrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#structspi__flash__direct__transfer__t">spi_flash_direct_transfer_t</a> *const&#160;</td>
          <td class="paramname"><em>p_transfer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga80ecf65e658f5b36bfe0bf2d88dd3ca5">spi_flash_direct_transfer_dir_t</a>&#160;</td>
          <td class="paramname"><em>direction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read/Write raw data directly with the OctaFlash.</p>
<p>Implements <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#a875857cdb3d6ebf0971115737b9e2989">spi_flash_api_t::directTransfer</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_SUCCESS</td><td>The flash was programmed successfully. </td></tr>
    <tr><td class="paramname">FSP_ERR_ASSERTION</td><td>A required pointer is NULL. </td></tr>
    <tr><td class="paramname">FSP_ERR_NOT_OPEN</td><td>Driver is not opened. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad2b24047e009a0c99a0e9ba116304938"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad2b24047e009a0c99a0e9ba116304938">&#9670;&nbsp;</a></span>R_XSPI_OSPI_AutoCalibrate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_e_n_e_s_a_s___e_r_r_o_r___c_o_d_e_s.html#gadfb1288da0fcc7ae1dc88c58601374f8">fsp_err_t</a> R_XSPI_OSPI_AutoCalibrate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ga0f14c8b55d2948c30b99ab157e16488f">spi_flash_ctrl_t</a> *&#160;</td>
          <td class="paramname"><em>p_ctrl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Auto-calibrate the OctaRAM device using the preamble pattern. Unsupported by XSPI_OSPI.</p>
<p>Implements <a class="el" href="group___s_p_i___f_l_a_s_h___a_p_i.html#ac78c55ffe2b7d99681612ce796a384c5">spi_flash_api_t::autoCalibrate</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FSP_ERR_UNSUPPORTED</td><td>API not supported by XSPI_OSPI </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
        <li class="footer">FSP Release v2.0.0 User's Manual Copyright  (2024) Renesas Electronics Corporation. All Rights Reserved.</li>
  </ul>
</div>
</body>
</html>
